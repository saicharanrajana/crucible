#!/bin/bash

# Crucible - macOS Package Configuration
# Defines all packages to be installed on macOS systems via Homebrew
# Separates command-line formulas from GUI applications (casks)

# ============================================================================
# SYSTEM UTILITIES (Homebrew Formulas)
# Command-line tools installed via: brew install <formula>
# ============================================================================
MACOS_SYSTEM_UTILS=(
    # System monitoring
    htop              # Interactive process viewer
    btop              # Modern system resource monitor
    
    # File management
    stow              # Symlink farm manager (for dotfiles)
    fzf               # Fuzzy file finder
    zoxide            # Smarter cd command
    
    # Archive tools
    zip               # ZIP archive utility
    unzip             # UnZIP archive utility
    
    # Shell utilities
    bash-completion   # Bash tab completion
    
    # Terminal enhancements
    neofetch          # System info display
    
    # GitHub CLI (optional but useful)
    gh                # GitHub CLI
)

# ============================================================================
# DEVELOPMENT TOOLS (Homebrew Formulas)
# ============================================================================
MACOS_DEV_TOOLS=(
    # Editors
    vim               # Terminal text editor
    neovim            # Modern Vim fork
    
    # Terminal emulators
    ghostty           # Modern terminal (available on Homebrew)
    
    # Shells
    zsh               # Z shell (usually pre-installed on macOS)
    
    # Prompt and tools
    starship          # Cross-shell prompt
    
    # Terminal multiplexers
    tmux              # Terminal multiplexer
    
    # Version control
    git               # Distributed version control
    lazygit           # TUI for git
    
    # Enhanced CLI tools
    bat               # Cat clone with syntax highlighting
    eza               # Modern replacement for ls
    
    # Runtime version management
    mise              # Polyglot runtime version manager
    
    # Docker tools
    lazydocker        # TUI for Docker
    
    # macOS specific dev tools
    coreutils         # GNU core utilities (better than BSD versions)
    gnu-sed           # GNU sed (better than BSD sed)
    findutils         # GNU find (better than BSD find)
    grep              # GNU grep (better than BSD grep)
)

# ============================================================================
# DESKTOP APPLICATIONS (Homebrew Casks)
# GUI applications installed via: brew install --cask <cask>
# ============================================================================
MACOS_DESKTOP=(
    # Browsers
    firefox           # Firefox browser
    google-chrome     # Chrome browser (optional)
    
    # Development
    visual-studio-code  # VS Code editor
    
    # Utilities
    raycast           # Spotlight replacement
    rectangle         # Window manager (like Tactile for GNOME)
    alt-tab           # Windows-style alt-tab
    
    # Terminal
    # ghostty         # Already installed as formula above
    
    # Productivity
    notion            # Note taking (optional)
    obsidian          # Markdown notes (optional)
)

# ============================================================================
# MEDIA APPLICATIONS (Homebrew Casks)
# ============================================================================
MACOS_MEDIA=(
    vlc               # Media player
    iina              # Modern media player for macOS
    shottr            # Screenshot tool
    gimp              # Image editor
)

# ============================================================================
# FONTS (Homebrew Casks)
# Requires: brew tap homebrew/cask-fonts
# ============================================================================
MACOS_FONTS=(
    font-jetbrains-mono               # JetBrains Mono
    font-jetbrains-mono-nerd-font     # JetBrains Mono with Nerd Font icons
)

# ============================================================================
# NOTES
# ============================================================================
# Formulas vs Casks:
# - Formulas: Command-line tools, libraries, servers
# - Casks: GUI applications, fonts, drivers
#
# To add a tap (third-party repository):
#   brew_tap "owner/repo"
#
# To skip a category during installation:
#   ./run.sh --skip-packages=desktop,media
#
# For minimal installation (dev tools only):
#   ./run.sh --minimal
#
# macOS differences from Linux:
# - No package groups like RPM Fusion or Terra
# - Docker Desktop is a cask, not a service
# - No GNOME desktop environment (macOS has its own DE)
